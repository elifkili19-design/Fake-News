<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Il Puzzle della Verità</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }
    body { background: #f4f4f9; color: #333; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .app { max-width: 1200px; width: 100%; padding: 20px; }
    h1 { font-size: 2rem; margin-bottom: 16px; font-weight: 700; text-align: center; }
    p { font-size: 1rem; opacity: 0.85; margin-bottom: 20px; text-align: center; }
    
    .layout {
      margin-top: 20px;
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 20px;
    }

    @media (max-width: 900px) {
      .layout { grid-template-columns: 1fr; }
    }

    .pool, .assembly {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      min-height: 300px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
    }

    .piece-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 16px;
    }

    .piece {
      border-radius: 8px;
      padding: 10px;
      font-size: 0.85rem;
      background: #fafafa;
      border: 1px solid #ccc;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .piece img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      margin-bottom: 8px;
    }

    .piece:hover { background: #e0f7fa; border-color: #00acc1; }

    .piece.selected {
      background: #00acc1;
      color: #fff;
      border-color: #007c91;
    }

    .slot {
      border-radius: 8px;
      border: 1px dashed #ccc;
      padding: 8px;
      min-height: 50px;
      font-size: 0.9rem;
      line-height: 1.4;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fafafa;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 10px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      background: #00acc1;
      color: #fff;
      margin-right: 8px;
      transition: all 0.3s ease;
    }

    button.secondary {
      background: transparent;
      color: #00acc1;
      border: 1px solid #00acc1;
    }

    button:hover { background: #007c91; }
    button.secondary:hover { color: #007c91; border-color: #007c91; }

    .analysis {
      margin-top: 20px;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .tag-good { color: #4caf50; font-weight: bold; }
    .tag-bad { color: #e91e63; font-weight: bold; }

    /* Utility */
    .center {
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="app">
    <h1>Il Puzzle della Verità</h1>
    <p>Ricostruisci la notizia scegliendo i pezzi più affidabili.</p>

    <div class="layout">
      <!-- PEZZI -->
      <section class="pool">
        <h2 class="center">Pezzi disponibili</h2>
        <div class="piece-list" id="piece-pool">
          <div class="piece" data-id="1">
            <img src="https://via.placeholder.com/80" alt="News Image 1">
            Titolo 1
          </div>
          <div class="piece" data-id="2">
            <img src="https://via.placeholder.com/80" alt="News Image 2">
            Titolo 2
          </div>
          <div class="piece" data-id="3">
            <img src="https://via.placeholder.com/80" alt="News Image 3">
            Titolo 3
          </div>
        </div>
      </section>

      <!-- ASSEMBLAGGIO -->
      <section class="assembly">
        <h2 class="center">La tua versione</h2>
        <div class="slot" id="slot-1">Trascina qui il pezzo...</div>
        <div class="slot" id="slot-2">Trascina qui il pezzo...</div>
        <div class="slot" id="slot-3">Trascina qui il pezzo...</div>

        <div class="center">
          <button id="check-button">Verifica</button>
          <button class="secondary" id="reset-button">Reset</button>
        </div>
      </section>
    </div>

    <div class="analysis" id="analysis">
      <!-- Feedback del gioco -->
    </div>
  </div>

<script>
  // JavaScript dinamico per il drag-and-drop
  const pieces = document.querySelectorAll('.piece');
  const slots = document.querySelectorAll('.slot');
  const analysis = document.getElementById('analysis');

  let draggedPiece = null;

  pieces.forEach(piece => {
    piece.addEventListener('dragstart', () => {
      draggedPiece = piece;
      piece.classList.add('selected');
    });

    piece.addEventListener('dragend', () => {
      draggedPiece = null;
      piece.classList.remove('selected');
    });
  });

  slots.forEach(slot => {
    slot.addEventListener('dragover', (e) => {
      e.preventDefault();
    });

    slot.addEventListener('drop', () => {
      if (draggedPiece) {
        slot.textContent = '';
        slot.appendChild(draggedPiece);
      }
    });
  });

  document.getElementById('check-button').addEventListener('click', () => {
    analysis.innerHTML = 'Analisi completata!';
  });

  document.getElementById('reset-button').addEventListener('click', () => {
    slots.forEach(slot => {
      slot.textContent = 'Trascina qui il pezzo...';
    });
    document.getElementById('piece-pool').append(...pieces);
  });
</script>
</body>
</html>